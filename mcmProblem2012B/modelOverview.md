## 目标

优化乘船旅行的时间，从而使6个月的旅游旺季出游人数最大化。

## 约束条件

1. 旅行在始发点开始并在终点结束，终点是225公里的下游。
2. 只有两种船：橡胶筏和电机化船。橡皮筏平均每小时旅行4英里。电动船平均每小时旅行8英里。
3. 旅行时间范围是6至18晚。
4. 旅行安排在一年的6个月期间。
5. 露营地沿河均匀分布。
6. 没有两个组可以同时占据相同的营地。

## 假设

1. 我们可以规定每天能到河上航行的桨供电河筏和机帆船的比例。如果有太多的桨动力船在短时间内出行，有可能会出现问题。

2. 桨供电筏一趟的ff时间是12天或18天，机动船的为6天或12天。

3. 每个营地每晚只能有一组。这符合河川管理者的要求。

4. 每一天，一组只能向下游移动，或留在其目前的营地——不能向上游航行。这将流动组限制在了一个单一的方向上。

5. 旅行组从上午8时至下午6时，每天最多只能航行9小时（减去一个小时休息/午餐/等）。这意味着，每一天，桨动力筏旅行最多航行36英里，机动船最多72英里。这种假设使我们可以确定哪些组可以合理地达到某一的营地。

6. 旅行团每天的航行里程不能超过他们合理的旅行距离：桨动力阀最多36英里每天，机动阀72英里每天。

7. 我们忽略可能影响最大出行距离的变量，如天气和河流条件。

8. 露营营地之间的距离均匀分布，这样营地间的距离就等于河流的长度除以营地的数量。因此，我们可以将河流表示为一个等距离分布露营地的数列。

9. A组必须在其行程的最后一天到达终点的河流：A组即使可以，也不会提前离开河流。A组不会超出计划的旅行时间。我们相信这个假设符合河流管理者以及旅行质量的标准。

   ***用表格表示每个字母所代表的含义，很直观***

   ![定义变量图2012](C:\Users\dell\Desktop\GitHub\Information-Study\img\定义变量图2012.png)

## 建模方法

### 优先级调度算法

1. 定义一些术语

   开放的营地（open campsite）：如果目前没有旅行团占用，营地是开放的。

   移动到一个开放的营地（moving to an open campsite）：对于一组营地是$c_n$的组$g_i$，其移动到其他的开放营地，即$c_m ≠c_n$，相当于组$g_i$分配到新营地。由于**旅游团只可以向下游移动**，或留在他们目前的营地，我们有$m ≥n$ 。

   等待名单（waitlist）：某天的等待名单是那些在河上但还没有开始当天的旅行团组成，此时他们在等待名单上的排名和他们到达营地$c$的能力将他们包含在能够到达营地$c$的所有组的集合，**这些组被视作有着最大的优先权。**

   离开河流（off the River）：我们认为，河上第一个离开的营地是$c_{final}$，它始终是一个开放的营地，因此，任何数量的组可以被分配给它。

   **最远的空营地（难点）**（the Farthest Empty Campsite）:我们的调度算法使用一个数组作为数据结构来表示河流，数组的每个元素作为一个营地。每天以找到在河上最远的开放营地$c$来开始该算法，然后生成一个集合，其中包含了所有在当晚可能到达c的组。因此， $G_c  = {g_i | l_i +m_i ≥c}$, $l_i$其中是该组的当前位置，$m_i$是该小组可以在一天之内旅行的最大距离。

   - $m_i+l_i≥c$限定了$g_i$组必须能够在一天之内到达营地$c$。
   - $G_c$是有在河上以及等待名单上的组构成。
   - 如果$G_c=∅ $，那么我们可以移动到下一个最远的空营地——位于上流，并更接近于河流的起点。该算法总是从河流的末端向河流的始端运行。
   - 如果$G_c ≠∅$ ，则算法试图将具有最高优先级的组移动到营地$c$。

   该调度算法一直执行到最远的空营地是$c_0$为止。此时，每个能在河上继续航行的组被分配到一个营地，然后我们开始另一个算法来模拟第二天。

2. **确定优先级和如何运送计划组（难点）**

   一旦集合$G_c$已形成为特定的露营地$c$，算法必须决定哪个组移动到该营地。优先级是一个衡量组落后或提前于计划的程度的量，衡量多远的前面或后面的计划组$g_i$是：

   - $P_i ＞1$ ：组进度落后，那么移动$g_i$到$c$——其最远可达的开放营地。
   - $P_i  ＜1$ ：组提前，**然后计算$d_ia_i$—— 该组在河上已经度过的夜数乘以每天计划行进的平均距离。如果结果是大于或等于露营地$c$的位置，那么移动$g_i$到$c$。这样做可以让$g_i$不再提前于计划。**
   - $P_i =1$ ：组恰恰是按计划进行。
   - 不管$P_i$ 如何变，如果选择$c=c_{final}$，那么不移动$g_i$，除非$t_i=d_i$（$t_i$ 是第$i$组的行程长度，用夜晚数测量）。此功能可确保，$g_i$的行程不会在其计划结束日期前结束。

3. 按照优先级值来有序的将组群运送到下游

   **我们的算法总是试图移动落后于计划最多的组，来以确保每组都能在河上扎营** 。

###调度仿真

大峡谷是一个针对该模型研究的理想情况，使用大峡谷的参数，在每一次模拟中，使用同等数量的机帆船，桨动力筏，以及相等行程长度的分配。计算每一天每一组的营地数和优先值

![调度算法流程图2012](C:\Users\dell\Desktop\GitHub\Information-Study\img\调度算法流程图2012.png)

## 局限性和误差分析

1. 承载能力估计过高。我们将河流的承载力最大化，即使这意味着几乎每一个营地每晚都被占用了。这可能不是最理想的，可能导致河流堵塞或环境退化。因此，我们的模型可能高估了在很长一段时间内的旅行可能的最大数量。

2. 环境问题。实际的旅客人数比估计的要少。

3. 忽视合理的速度。河流的速度随着河道的深度和坡度的增加，使得我们关于每天旅行的最大距离恒定的假设不可能。

   ***论文结尾附上了致大朗河经理的一封信，写明了具体实施的方法，可预测的结果，需要提前输入的已知量和应注意的问题***

## 总结

本篇论文的假设和约束非常全面，尤其是定义的一些术语和行为很准确很细致。

但文中优先级值$P_i$的计算没有说明，需要进一步学习。